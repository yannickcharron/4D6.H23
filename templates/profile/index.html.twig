{% extends 'core/base.html.twig' %}
{% form_theme formPicture 'bootstrap_5_layout.html.twig' %}

{% block content %}
    <h1 class="mt-5">Profil</h1>
    <div class="row">
        <div class="col-6">
            <h3>Informations</h3>
            <img src="https://ui-avatars.com/api/?name={{ currentUser.firstName }}+{{ currentUser.lastName }}&rounded=true&background=random" alt="">
            <span><a href="{{ path('app_logout') }}">Se d√©connecter</a></span>
            <h5>{{ app.user.firstName }} {{ app.user.lastName }}</h5>
            {% if app.user.profilePicture %}
                <img src="{{ asset(app.user.profilePicture) }}" alt="" class="mx-auto d-block img-thumbnail">
            {% endif %}
            <div>
                {{ dump(app.user) }}
            </div>
            <a href="{{ path('stripe_checkout') }}" class="btn btn-primary col-3">Acheter des items (0,99$)</a>
            {{ form_start(formPicture) }}
                {{ form_row(formPicture.profilePicture) }}
            {{ form_end(formPicture) }}


        </div>
        <div class="col-6">
            <h3>Inventaire</h3>
            <div id="inventory">
                <div class="row">
                    {% for inventory in currentUser.inventories %}
                        <div class="col-md-4 my-2">
                            <div class="card shadow">
                                <img src="{{ asset(inventory.item.imagePath) }}" alt="item-icon" class="card-img-top item-icon mx-auto">
                                <div class="card-body">
                                    <h5 class="card-title">{{ inventory.item.name }}</h5>
                                    <p class="card-text item-qty">{{ inventory.quantity }}</p>
                                </div>
                            </div>
                        </div>
                    {% endfor %}
                </div>
            </div>
        </div>
    </div>
{% endblock %}


{% block stylesheets %} 
    <link rel="stylesheet" href="{{ asset('styles/profile.css') }}">
{% endblock %}

{% block javascripts %}

{% endblock %}
